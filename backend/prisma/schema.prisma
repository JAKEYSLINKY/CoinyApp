generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model users {
  userId       Int            @id @default(autoincrement())
  username     String         @unique
  password     String
  image        String?
  created      DateTime       @default(now())
  transactions transactions[]
  goals        goals[]
  plans        plans[]
  Bonus        Bonus[]
}

model transactions {
  transactionId Int              @id @default(autoincrement())
  userId        Int
  categoryId    Int              
  type          transactionsType
  amount        Float
  created       DateTime         @default(now())
  users         users            @relation(fields: [userId], references: [userId])
  categories    categories?      @relation(fields: [categoryId], references: [categoryId])
}

enum transactionsType {
  Deposit
  Withdraw
}

model categories {
  categoryId   Int            @id @default(autoincrement())
  name         String
  icon         Int
  transactions transactions[]
}

model goals {
  goalId        Int      @id @default(autoincrement())
  userId        Int
  name          String?
  goalAmount    Int
  currentAmount Int?
  created       DateTime @default(now())
  users         users    @relation(fields: [userId], references: [userId])
}

model plans {
  planId  Int      @id @default(autoincrement())
  userId  Int
  balance Float
  save    Float
  created DateTime @default(now())
  users   users    @relation(fields: [userId], references: [userId])
}

model Bonus {
  bonusId Int        @id @default(autoincrement())
  userId  Int
  usuage  bonusUsage
  amount  Int
  source  String
  created DateTime   @default(now())
  users   users      @relation(fields: [userId], references: [userId])
}

enum bonusUsage {
  use
  save
}
